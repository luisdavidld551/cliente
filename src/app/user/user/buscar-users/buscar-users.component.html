<div class="container" id="alertas">
  <ngb-alert #staticAlert *ngIf="!staticAlertClosed" [type]="typeAler" (closed)="staticAlertClosed = true">
    {{successMessage }}
  </ngb-alert>
</div>

<div class="container">
  <form action="">
    <h1>Buscar un Usuario</h1>
    <br>
    <div class="mb-3 row">
      <label for="" class="col-sm-3 col-form-label">Id del Usuario</label>
      <div class="col-sm-6">
        <input type="text" name="id" id="" [(ngModel)]="id">
      </div>
      <div class="col-sm-3">
        <button type="submit" (click)="getShow()" class="btn btn-success">Buscar</button>
      </div>
    </div>
    <br>
  </form>
  <br>
  <br>
  <div class="container" [style.display]="toggoleShowHide">
    <table class="table table-striped text-center">
      <thead>
        <tr>
          <th>Id</th>
          <th>nombre</th>
          <th>Email</th>
          <th>Estado</th>
          <th>Opcion</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{user.id}}</td>
          <td>{{user.name}}</td>
          <td>{{user.email}}</td>
          <td>{{user.estado}}</td>
          <td style="text-align: center">
            <a (click)="editUser()" class="btn btn-secondary" id="btnSmall">
              <i class="material-icons">edit</i>
            </a>
            <a (click)="deleteUser()" class="btn btn-danger" id="btnSmall">
              <i class="material-icons">delete</i>
            </a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="container">
  <ng-template #contenidoActualizar let-modal>
    <div class="modal-header">
      <h1 class="modal-title text-center">Actualizar un Usuario</h1>
      <button class="close" aria-label="close" type="button" (click)="modal.dismiss()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="container">
        <form [formGroup]="actualizarFTB" (ngSubmit)="actualizarTask()">
          <div class="mb-3 row">
            <label for="" class="col-sm-4 col-form-label">Id del Usuario</label>
            <div class="col-sm-8">
              <input type="text" class="form-control" name="idsUsuario" formControlName="id">
            </div>
          </div>
          <div class="mb-3 row">
            <label for="" class="col-sm-4 col-form-label">Nombre del Usuario</label>
            <div class="col-sm-8">
              <input type="text" class="form-control" name="nombreUsuario" formControlName="name">
            </div>
          </div>
          <div class="mb-3 row">
            <label class="col-sm-4 col-form-label">Correo Electronico</label>
            <div class="col-sm-8">
              <input type="email" class="form-control" name="emailUsuario" formControlName="email">
            </div>
          </div>
          <!--div class="mb-3 row">
                      <label class="col-sm-2 col-form-label">Password</label>
                      <div class="col-sm-10">
                          <input type="password" class="form-control" name="passwordUsuario" formControlName="password">
                      </div>
                  </div-->
          <div class="mb-3 row">
            <label class="col-sm-4 col-form-label">Estado</label>
            <div class="col-sm-8">
              <select class="form-control" name="estadoUsuario" formControlName="estado">
                <option value="activo">Activo</option>
                <option value="inactivo">Inactivo</option>
              </select>
              <!-- <input type="text" class="form-control" name="estadoTask" formControlName="estado">-->
            </div>
          </div>
          <div class="mb-3 row">
            <label class="col-sm-4 col-form-label">Rol</label>
            <div class="col-sm-8">
              <select class="form-control" name="rolUsuario" formControlName="role_id">
                <option value="1">Administrador</option>
                <option value="2">Cliente</option>
              </select>
              <!-- <input type="text" class="form-control" name="estadoTask" formControlName="estado">-->
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-success">Actualizar</button>
            <button type="button" class="btn btn-danger" (click)="modalClose()">Cancelar</button>
          </div>
        </form>
      </div>
    </div>

  </ng-template>
</div>

<div class="container">
  <ng-template #contenidoEliminar let-modal>
    <div class="modal-header">
      <h1 class="modal-title">Eliminar un Usuario</h1>
      <button class="close" aria-label="close" type="button" (click)="modal.dismiss()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="container">
        <p>Seguro que desea eliminar el Usuario con el id: {{user.id}} ?</p>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-success" (click)="eliminarUser()">Eliminar</button>
      <button type="button" class="btn btn-danger" (click)="modalClose()">Cancelar</button>
    </div>
  </ng-template>
</div>